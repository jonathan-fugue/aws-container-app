<h1 id="module-appcluster">Module AppCluster</h1><h2 id="table-of-contents">Table of Contents</h2><p>This list provides an overview of all types, values and functions exported from this module.  These are not necessarily defined in this module: in some cases, we also re-export items from other modules. When that is the case, we link to the appropriate definition.</p><div id="lwdoc-toc-marker" style="display:hidden"></div><ul><li><p>Type <a href="#type-app"><code>App</code></a></p></li><li><p>Function <a href="#function-app"><code>app</code></a></p></li><li><p>Type <a href="#type-appcluster"><code>AppCluster</code></a></p></li><li><p>Function <a href="#function-new"><code>new</code></a></p></li></ul><h2 id="type-app">Type App</h2><p>An app is basically a docker image together with some parameters.  You can
deploy multiple apps in an <a href="#type-appcluster"><code>AppCluster</code></a>.  For every app, the appropriate
resources (including a separate load balancer, security group...) will be
created.</p><pre><code>type App:
  | App
      name: String
      image: String
      port: Int
      memory: Int
      managedPolicies: List&lt;ManagedPolicy&gt;
      logGroupName: Optional&lt;String&gt;</code></pre><h3 id="constructor-app">Constructor App</h3><h3 id="fields">Fields</h3><ul><li><p><code>name</code> : <a href="Ludwig.String.html"><code>String</code></a></p></li><li><p><code>image</code> : <a href="Ludwig.String.html"><code>String</code></a></p></li><li><p><code>port</code> : <a href="Ludwig.Int.html"><code>Int</code></a></p></li><li><p><code>memory</code> : <a href="Ludwig.Int.html"><code>Int</code></a></p></li><li><p><code>managedPolicies</code> : <a href="Ludwig.List.html"><code>List</code></a><code>&lt;</code><a href="Fugue.Core.AWS.IAM.html#type-managedpolicy"><code>ManagedPolicy</code></a><code>&gt;</code></p></li><li><p><code>logGroupName</code> : <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.String.html"><code>String</code></a><code>&gt;</code></p></li></ul><h2 id="function-app">Function app</h2><h3 id="type">Type</h3><p><code>fun{name:</code> <a href="Ludwig.String.html"><code>String</code></a><code>,</code> <code>image:</code> <a href="Ludwig.String.html"><code>String</code></a><code>,</code> <code>logGroupName:</code> <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.String.html"><code>String</code></a><code>&gt;,</code> <code>port:</code> <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.Int.html"><code>Int</code></a><code>&gt;,</code> <code>memory:</code> <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.Int.html"><code>Int</code></a><code>&gt;,</code> <code>managedPolicies:</code> <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.List.html"><code>List</code></a><code>&lt;</code><a href="Fugue.Core.AWS.IAM.html#type-managedpolicy"><code>ManagedPolicy</code></a><code>&gt;&gt;}</code> <code>-&gt;</code> <a href="#type-app"><code>App</code></a></p><p>Constructor to create a new <a href="#type-app"><code>App</code></a>.</p><h3 id="arguments">Arguments</h3><ul><li><p><code>name</code>: <a href="Ludwig.String.html"><code>String</code></a></p><p>Descriptive name for the application.  Lowercase and hyphen is
recommended.</p></li><li><p><code>image</code>: <a href="Ludwig.String.html"><code>String</code></a></p><p>Name of the docker image.</p></li><li><p><code>logGroupName</code>: <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.String.html"><code>String</code></a><code>&gt;</code></p><p>CloudWatch log group name to send logs to.</p></li><li><p><code>port</code>: <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.Int.html"><code>Int</code></a><code>&gt;</code></p><p>Port on which your docker image listens.  Defaults to 8000.</p></li><li><p><code>memory</code>: <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.Int.html"><code>Int</code></a><code>&gt;</code></p><p>Amount of memory available to the image, in MB.  Defaults to 256.</p></li><li><p><code>managedPolicies</code>: <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.List.html"><code>List</code></a><code>&lt;</code><a href="Fugue.Core.AWS.IAM.html#type-managedpolicy"><code>ManagedPolicy</code></a><code>&gt;&gt;</code></p><p>Extra policies your docker image needs (e.g. SQS access).
TODO: The use should be able to specify inline policies as well.</p></li></ul><h3 id="returns">Returns</h3><p><a href="#type-app"><code>App</code></a></p><h2 id="type-appcluster">Type AppCluster</h2><pre><code>type AppCluster:
  cluster: Cluster
  services: List&lt;Service&gt;
  asg: AutoScalingGroup</code></pre><h3 id="fields">Fields</h3><ul><li><p><code>cluster</code> : <a href="Fugue.Core.AWS.ECS.html#type-cluster"><code>Cluster</code></a></p></li><li><p><code>services</code> : <a href="Ludwig.List.html"><code>List</code></a><code>&lt;</code><a href="Fugue.Core.AWS.ECS.html#type-service"><code>Service</code></a><code>&gt;</code></p></li><li><p><code>asg</code> : <a href="Fugue.Core.AWS.AutoScaling.html#type-autoscalinggroup"><code>AutoScalingGroup</code></a></p></li></ul><h2 id="function-new">Function new</h2><h3 id="type">Type</h3><p><code>fun{name:</code> <a href="Ludwig.String.html"><code>String</code></a><code>,</code> <code>network:</code> <a href="Fugue.AWS.Pattern.Network.html#type-network"><code>Network</code></a><code>,</code> <code>apps:</code> <a href="Ludwig.List.html"><code>List</code></a><code>&lt;</code><a href="#type-app"><code>App</code></a><code>&gt;,</code> <code>size:</code> <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.Int.html"><code>Int</code></a><code>&gt;,</code> <code>keyName:</code> <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.String.html"><code>String</code></a><code>&gt;}</code> <code>-&gt;</code> <a href="#type-appcluster"><code>AppCluster</code></a></p><p>Create a new <a href="#type-appcluster"><code>AppCluster</code></a></p><h3 id="arguments">Arguments</h3><ul><li><p><code>name</code>: <a href="Ludwig.String.html"><code>String</code></a></p><p>Name of the cluster.  Using lowercase and hyphens is recommended.</p></li><li><p><code>network</code>: <a href="Fugue.AWS.Pattern.Network.html#type-network"><code>Network</code></a></p><p>Network to deploy the cluster in.</p></li><li><p><code>apps</code>: <a href="Ludwig.List.html"><code>List</code></a><code>&lt;</code><a href="#type-app"><code>App</code></a><code>&gt;</code></p></li><li><p><code>size</code>: <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.Int.html"><code>Int</code></a><code>&gt;</code></p><p>Number of instances in the network.  Defaults to the number apps +
1.</p></li><li><p><code>keyName</code>: <a href="Ludwig.Optional.html"><code>Optional</code></a><code>&lt;</code><a href="Ludwig.String.html"><code>String</code></a><code>&gt;</code></p></li></ul><h3 id="returns">Returns</h3><p><a href="#type-appcluster"><code>AppCluster</code></a></p>